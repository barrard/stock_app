(window.webpackJsonp=window.webpackJsonp||[]).push([["5699"],{bYpg:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/trade-posts",function(){var e=a("qmvx");return{page:e.default||e}}])},qmvx:function(e,t,a){"use strict";a.r(t);var n=a("UrUy"),r=a.n(n),l=a("R3/3"),c=a("Rbzu"),o=a("hDBU"),s=a("azxR"),i=a("LkAs"),m=a("Moms"),u=a("bMj6"),d=a("hZod"),p=a("YKN3"),v=a("tEuJ"),_=a("mXGw"),f=a.n(_),b=a("/m4v"),E=(a("RIvd"),a("bBV7")),h=a("4cCf"),g=function(e){function t(e){var a;return Object(i.default)(this,t),(a=Object(u.default)(this,Object(d.default)(t).call(this,e))).state={posts:e.posts,direction:"",symbol:"",img:"",entry:"",stop:"",first_target:"",second_target:"",certainty:"",notes:"",edit_mode:!1,edit_id:"",file_name:""},a.handle_view_click=a.handle_view_click.bind(Object(p.default)(a)),a}return Object(v.default)(t,e),Object(m.default)(t,[{key:"componentDidMount",value:function(){}},{key:"handle_input",value:function(e,t){this.setState(Object(s.a)({},t,e.target.value)),console.log({prop:t})}},{key:"handle_view_click",value:function(e){console.log({id:e});var t=this.props.posts.filter(function(t){return t._id==e}),a=Object(o.default)(t,1)[0];console.log({post:a});var n=Object(c.a)({},this.state,a,{edit_mode:!0,edit_id:a._id});this.setState(Object(c.a)({},n))}},{key:"render",value:function(){var e=this,t=this.state,a=t.posts,n=t.symbol,r=t.file_name,l=t.entry,c=t.stop,o=t.first_target,s=t.second_target,i=t.certainty,m=t.notes,u=t.diretion,d=t.edit_id;return f.a.createElement(h.a,null,f.a.createElement("div",{className:"container vh_100"},f.a.createElement("div",{className:"row flex_center relative "},f.a.createElement("div",{className:"col-sm-6 absolute trade_post_form_overlay transparent"},f.a.createElement(S,{diretion:u,symbol:n,entry:l,stop:c,first_target:o,second_target:s,certainty:i,notes:m,edit_id:d})),f.a.createElement("div",{className:"col-sm-12 flex_center under_1"},f.a.createElement("img",{className:"full-width",src:"/static/trade_post_imgs/".concat(r),alt:"",id:"chart"})))),f.a.createElement("div",{className:"row flex_center"},f.a.createElement("div",{className:"col-sm-12 "},a&&a.length>0&&f.a.createElement(y,{handle_view_click:function(t){return e.handle_view_click(t)},posts:a}))))}}],[{key:"getInitialProps",value:function(){var e=Object(l.default)(r.a.mark(function e(t){var a,n,l;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("TRADE_POSTS"),e.prev=1,e.next=4,fetch("http://localhost:3000/trade_posts");case 4:return a=e.sent,e.next=7,a.json();case 7:return n=e.sent,l=n.posts,console.log({posts:l}),e.abrupt("return",{posts:l});case 13:return e.prev=13,e.t0=e.catch(1),console.log("err"),console.log(e.t0),e.abrupt("return",{});case 18:case"end":return e.stop()}},e,null,[[1,13]])}));return function(t){return e.apply(this,arguments)}}()}]),t}(f.a.Component);t.default=Object(b.connect)(function(e){return{user:e.user,meta:e.meta}})(Object(E.withRouter)(g));var y=function(e){var t=e.posts,a=e.handle_view_click;return f.a.createElement("div",{className:"row "},f.a.createElement("div",{className:"col-sm-12 "},t.map(function(e,t){return f.a.createElement(w,{key:t,index:t,post:e,handle_view_click:function(e){return a(e)}})})))},w=function(e){var t=e.post,a=e.index,n=e.handle_view_click,r=(e.handle_delete_click,a%2==0?"ticker_row_light":"ticker_row_dark");return f.a.createElement("div",{className:"".concat(r," row flex_center")},f.a.createElement("div",{className:"col-sm-2 flex_center"},f.a.createElement(N,{symbol:t.symbol})),f.a.createElement("div",{className:"col-sm-2 flex_center"},f.a.createElement(k,{handle_click:function(e){return n(t._id)}})))},k=function(e){var t=e.handle_click;return f.a.createElement("button",{onClick:t,type:"button",className:"btn btn-info"},"VIEW")},N=function(e){var t=e.symbol;return f.a.createElement("span",{className:"ticker_symbol"},t)},x=function(e){var t=e.val;return f.a.createElement("div",{className:"form-group"},f.a.createElement("label",{htmlFor:"trade direction"},"Trade Direction"),f.a.createElement("select",{value:t,className:"form-control opaque"},f.a.createElement("option",{value:"long"},"Long"),f.a.createElement("option",{value:"short"},"Short")))},j=function(e){var t=e.val;return f.a.createElement("div",{className:"form-group"},f.a.createElement("label",null,"Level Of Certainty"),f.a.createElement("p",null,t))},O=function(e){var t=e.val;return f.a.createElement("div",{className:"form-group"},f.a.createElement("label",{htmlFor:"Notes"},"Notes"),f.a.createElement("textarea",{value:t,className:"form-control opaque",rows:"3"}))},S=function(e){var t=e.submit_new_post,a=e.symbol,n=e.diretion,r=(e.img,e.entry),l=e.stop,c=e.first_target,o=e.second_target,s=e.certainty,i=e.notes;e.edit_mode,e.edit_id;return f.a.createElement("form",null,f.a.createElement(T,{val:a,label:"Symbol",prop:"symbol"}),f.a.createElement(T,{val:r,label:"Entry",prop:"entry"}),f.a.createElement(T,{val:l,label:"Stop",prop:"stop"}),f.a.createElement(T,{val:c,label:"First Target",prop:"first_target"}),f.a.createElement(T,{val:o,label:"Second Target",prop:"second_target"}),f.a.createElement(x,{val:n}),f.a.createElement(j,{val:s}),f.a.createElement(O,{val:i}),f.a.createElement("button",{onClick:function(e){return t(e)}},"Submit"))},T=function(e){var t=e.val,a=e.label;e.prop;return f.a.createElement("div",{className:"form-group"},f.a.createElement("label",{htmlFor:"symbol"},a),f.a.createElement("input",{value:t,type:"text",className:"form-control opaque",placeholder:a}))}}},[["bYpg","5d41","9da1"]]]);